<!DOCTYPE html>
<html>

<head>
    <title>Rendelés | Rózaszirom</title>
    <!-- jQuery, Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script type="text/javascript">
        
        var Catalog = [
                {
                    "name": "Szekszoknya",
                    "label": "Székszoknya",
                    "quantity": 250,
                    "step": 10,
                    "unit": "db",
                    "priceRent": 400,
                    "priceTransport": 10,
                    "priceService": 50,
                    "detailService": "A székszoknyák (és masnik) felhelyezése a székekre"
                },
                {
                    "name": "Gyertyatarto",
                    "label": "Gyertyatartó",
                    "quantity": 12,
                    "step": 1,
                    "unit": "db",
                    "priceRent": 250,
                    "priceTransport": 10,
                    "priceService": 50,
                    "detailService": "A gyertyatartók elhelyezése a megadott helyekre"
                }
            ];
                
        $(document).ready(function () {

            Catalog.forEach(function RenderInputs(item){

                $("#items").append('<div class="form-group row div-input">' +
                        '<label class="col-sm-1 col-form-label" for="input' + item.name + '">' + item.label + '</label>' +
                        '<div class="col-sm-1"><input class="form-control inputQuantity" type="number" name="inputQuantity' + item.name + '" id="input' + item.name + '" step="' + item.step + '"' +
                            'min="0" max="' + item.quantity + '"></div>' +
                        '<div class="col-sm-2"><span> ' + item.unit + ' x </span><span id="price' + item.name + '">' + item.priceRent + '</span><span> Ft</span></div>' +
                        '<div class="form-check col-sm-2"><input type="checkbox" class="form-check-input" id="inputTransport' + item.name + '" name="inputTransport' + item.name + '"' + 
                            'value="wantsTransport">' +
                        '<label for="inputTransport' + item.name + '"> Szállítást kérek</label></div>' +
                        '<div class="form-check col-sm-2"><input type="checkbox" class="form-check-input" id="inputService' + item.name + '" name="inputService' + item.name + '"' + 
                            'value="wantsService">' +
                        '<label for="inputService' + item.name + '"> Kérem a szolgáltatást</label></div>' +
                    '</div>')

            });

            $("[id^=input]").change(function () {
                
                $("#items").children(".div-input").each(function() {

                    console.log(this.children[1].children[0].value);
                    
                    //$("#Total").text( $("#Total").text() + this.children[1].children[0].value * child.children[2].children[1].text() );

                });
                
            });
        });
    </script>
</head>

<body>
    <div id="items" style="padding: 30px">
        <h1>Amiben segíteni tudunk</h1>
        <h3>Válogasd össze az összes kelléket, amire szükséged lehet, állítsd be, milyen formában kéred a segítségünket!</h3>
    </div>
    <div id="summary">
        <h1>Az általad összeállított csomag elemei</h1>
        <h3>Ha mégsem ez az, amire gondoltál, bármikor lépj vissza, és szerkeszd át a csomagot!</h3>
        <div>
            <p>A rendelés végösszege: <span id="Total"></span> Ft</p>
        </div>
    </div>
    <div id="printable" class="print">
        <h1>Szerződés/Ajánlatkérés</h1>
        <h3>A honlapon megadott adatok alapján</h3>

    </div>
</body>

</html>